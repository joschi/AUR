# Contributor: Massimiliano Torromeo <massimiliano.torromeo@gmail.com>
# Contributor: Jochen Schalanda <jochen+aur@schalanda.name>
_pkgname='net-scp'
pkgname="ruby-${_pkgname}"
pkgver=1.1.2
pkgrel=1
pkgdesc='A pure Ruby implementation of the SCP client protocol'
arch=(any)
url="https://rubygems.org/gems/${_pkgname}"
license=('GPL')
depends=('ruby' 'ruby-net-ssh>=2.6.5')
source=("http://gems.rubyforge.org/gems/${_pkgname}-${pkgver}.gem")
noextract=("${_pkgname}-${pkgver}.gem")
md5sums=('ef57751e3b9422899b35ec7d110bf3e1')

package() {
  cd $srcdir
  local _gemdir="$(ruby -rubygems -e'puts Gem.default_dir')"
  gem install --no-user-install --ignore-dependencies \
    -i "$pkgdir$_gemdir" -n "$pkgdir"/usr/bin "${_pkgname}-${pkgver}.gem"
}
